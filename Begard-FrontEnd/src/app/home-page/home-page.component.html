<div (scroll)="onWindowScroll($event)" style="background-color: #f7f8fd;">
    <app-nav-bar></app-nav-bar>
    
    <mat-grid-list cols="5" rowHeight="200px" class="grid-parent">
        <mat-grid-tile class="tile" [ngStyle]="{'background-image': 'url(' + baseurl +'/media/images/back.jpg' +')'}"
            rowspan=2 colspan=5>
            <app-search class="search"></app-search>
        </mat-grid-tile>
    </mat-grid-list>

    <div style="display:flex">
        <div id="leftbar">
            <mat-card *ngIf="(loginStatus$ | async)" class="shadow-lg"
                style="height: auto;margin: 20px;border-radius: 10px">
                <div (click)="refresh()" class="underline">
                    <mat-icon style="margin-left: 10px;margin-top: 7px;">home</mat-icon>
                    <p style="margin-left: 10px;margin-top: 10px;">Home</p>
                </div>
                <hr class="hr">
                <div (click)="goToProfile()" class="underline">
                    <mat-icon style="margin-left: 10px;margin-top: 7px;">person_outline</mat-icon>
                    <p style="margin-left: 10px;margin-top: 10px;">Profile</p>
                </div>
                <hr class="hr">
                <div (click)="goToMyplan()" class="underline">
                    <mat-icon style="margin-left: 10px;margin-top: 7px;">date_range</mat-icon>
                    <p style="margin-left: 10px;margin-top: 10px;">My plans</p>
                </div>
            </mat-card>
            <mat-card *ngIf="!(loginStatus$ | async)" class="shadow-lg"
                style="height: auto;margin: 20px;border-radius: 10px">
                <p style="padding-top: 3%;padding-right: 10%;padding-left: 10%;padding-bottom: 3%;"> you are not a member
                    yet? it's not late.</p>
                <div>
                    <a mat-raised-button color="basic" routerLink="/login" routerLinkActive="active"
                        style="width: 90%;margin: 5%;">Login</a>
                    <a mat-button mat-raised-button color="accent" routerLink="/register" routerLinkActive="active"
                        style="width: 90%;margin: 5%;">Register</a>
                </div>
            </mat-card>
        </div>

        <div id="content">
            <mat-card *ngIf="(loginStatus$ | async)" class="shadow-lg" style="margin: 20px;border-radius: 10px">
                <app-post-location></app-post-location>
            </mat-card>
            <mat-card class="shadow-lg" style="border-radius: 10px;box-shadow: 0px 5px 13px #e6e6e6;margin: 20px;">
                <mat-card-title style="display:flex;justify-content: center;">Top Plans</mat-card-title>
                <app-horizontl-list style="margin-top: 20px;" [planOverviews]="planOverviews"></app-horizontl-list>
            </mat-card>
            <div style="width: 100%;padding-left: 20px;padding-right: 20px;">
                <app-location-post [currentUrl]="currentUrl"></app-location-post>
            </div>
        </div>

        <div id="rightbar">
            <mat-card class="shadow-lg" style="margin: 20px;;border-radius: 10px">
                <mat-card-title style="display:flex;justify-content: center; width: 100%;">
                    Top Planners
                </mat-card-title>
                <mat-card-content style="margin-top: 40px;">
                    <div class="tp" *ngFor="let tp of topPlanners;">
                        <app-top-planners style="width: 100%;" [username]="tp.username" [email]="tp.email"
                            [profileImg]="tp.profile_img" [rate]="tp.average_rate" [isPublic]="tp.is_public"
                            [userId]="tp.pk"></app-top-planners>
                    </div>
                    <div style="text-align: center;" class="tp" *ngIf="noPlannerEnable">
                        No Planner to Follow
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

    </div>
    <router-outlet></router-outlet>
</div>