<div>
    <div class="center">

        <ejs-tab id="element">
            <e-tabitems>
                <e-tabitem>
                    <ng-template #headerText>
                        <div>Calender</div>

                    </ng-template>
                    <ng-template #content>
                        <ejs-schedule height=500 width=850 id='Schedule' #scheduleObj [currentView]="currentView"
                            [selectedDate]="selectedDate" [eventSettings]="eventSettings" 
                            (dragStart)="onDragStart($event)" (resizeStart)="onResizeStart($event)">
                            <e-views>
                                <e-view displayName='3 Days' option='Day' [interval]="dayInterval"></e-view>
                                <e-view displayName='Weeks' option='Week' [isSelected]="isSelected"
                                    [interval]="weekInterval"></e-view>
                                <e-view displayName='2 Weeks' option='Week' [interval]="weeksInterval"></e-view>
                            </e-views>
                            <ng-template #editorTemplate let-data>
                                <table *ngIf="data != undefined" class="custom-event-editor" width="100%"
                                    cellpadding="5">
                                    <tbody>
                                        <tr>
                                            <td class="e-textlabel">Location</td>
                                            <td colspan="4">
                                                <input id="Subject" class="e-field e-input" type="text"
                                                    value="{{data.Subject}}" name="Subject" style="width: 100%" />
                                            </td>
                                        </tr>
                                        <br />

                                        <tr>
                                            <td class="e-textlabel">From</td>
                                            <td colspan="4">
                                                <ejs-datetimepicker id="StartTime" class="e-field" data-name="StartTime"
                                                    format="M/dd/yy h:mm a"
                                                    [value]="dateParser(data.startTime || data.StartTime)">
                                                </ejs-datetimepicker>
                                            </td>
                                        </tr>
                                        <br />

                                        <tr>
                                            <td class="e-textlabel">To</td>
                                            <td colspan="4">
                                                <ejs-datetimepicker id="EndTime" class="e-field" data-name="EndTime"
                                                    format="M/dd/yy h:mm a"
                                                    [value]='dateParser(data.endTime || data.EndTime)'>
                                                </ejs-datetimepicker>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="e-textlabel">Description</td>
                                            <td colspan="4">
                                                <textarea id="Description" class="e-field e-input" name="Description"
                                                    rows="3" cols="50" value="{{data.Description}}"
                                                    style="width: 100%; height: 60px !important; resize: vertical"></textarea>
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>


                            </ng-template>
                        </ejs-schedule>
                    </ng-template>
                </e-tabitem>
                <e-tabitem>
                    <ng-template #headerText>
                        <div> Map </div>
                    </ng-template>
                    <ng-template #content>
                        <app-map></app-map>

                    </ng-template>
                </e-tabitem>
            </e-tabitems>

        </ejs-tab>

        <div class="row-3">

            <div style="margin-left:30px; margin-right:30px; margin-bottom: 20px;">
                <app-dynamic-search [cityId]="cityId" width=500 (locationEventEmmiter)="addToLocationList($event)"></app-dynamic-search>
            </div>

            <div style="width:400px;float:none;margin-left:30px; margin-right:30px">

                <ejs-grid id='Grid' class="grid" #gridObj [dataSource]='(gridItems$ | async)' width="300px" [allowSelection]="true"
                    [allowRowDragAndDrop]="true" [editSettings]='editSettings' [rowDropSettings]="srcDropOptions"
                    (rowDrop)="onDragStop($event)" (rowDrag)="onRowDrag($event)">
                    <e-columns>

                        <e-column field='placeName' headerText='Name' width='70'></e-column>

                    </e-columns>
                </ejs-grid>
            </div>

            <button class="save-button" mat-raised-button (click)="openDialog()"> update </button>

        </div>
    </div>

</div>